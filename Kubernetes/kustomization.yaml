apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Certificate for Kestrel
configMapGenerator:
- name: sslconfig
  files: 
  - ../Content/https/aspnetapp.pfx
- name: envconfig 
  literals:
  - ASPNETCORE_ENVIRONMENT=Development
  - ASPNETCORE_Kestrel__Certificates__Default__Password="12345"
  - ASPNETCORE_Kestrel__Certificates__Default__Path=/https/aspnetapp.pfx
  - ASPNETCORE_URLS=https://+:443;http://+:80
 
resources:
- ../ProductMicroservice/ProductMicroservice/deployment.yaml
- ../ProductMicroservice/ProductMicroservice/service.yaml
- ../ReportMicroservice/ReportMicroservice/deployment.yaml
- ../ReportMicroservice/ReportMicroservice/service.yaml
- ../APIgateway/deployment.yaml
- ../APIgateway/service.yaml

namespace: default
